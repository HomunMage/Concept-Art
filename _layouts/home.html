---
layout: base
---

<div class="posts">
    {% assign index_pages = site.pages | where: "name", "index.md" %}
    {% assign sorted_pages = index_pages | sort: "path" | reverse %}
    
    <h3>Total index pages: {{ index_pages | size }}</h3>
    
    {% for page in sorted_pages limit: 10 %}
        <div class="post-preview">
        <h2><a href="{{ page.url }}">{{ page.dir | remove: '/' }}</a></h2>
        <div class="post-content">
            <iframe src="{{ page.url }}" width="100%" frameborder="0"></iframe>
        </div>
        </div>
    {% endfor %}
</div>
    
<script>
    function resize() {
        let height = document.documentElement.scrollHeight;
        parent.postMessage({
            height: height,
            frameId: 'uniqueFrameId' // or any other unique identifier for the iframe
        }, '*');
    }
    
    window.onload = resize;
    window.onresize = resize;
</script>

<script>
    window.addEventListener('message', function(event) {
        if (event.data && event.data.height && event.data.frameId === 'uniqueFrameId') {
            let iframe = document.querySelector("iframe[src='" + event.source.location.pathname + "']");
            if (iframe) {
                iframe.style.height = event.data.height + 'px';
            }
        }
    });
</script>
